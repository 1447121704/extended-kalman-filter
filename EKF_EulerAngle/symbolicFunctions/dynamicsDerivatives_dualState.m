function df_dx_dualState = dynamicsDerivatives_dualState(v_Bx,v_By,v_Bz,omega_Bx,omega_By,omega_Bz,f_B_ox,f_B_oy,f_B_oz,mu_B_ox,mu_B_oy,mu_B_oz,f_B_cx,f_B_cy,f_B_cz,mu_B_cx,mu_B_cy,mu_B_cz,phi1,phi2,phi3,K_Bxx,K_Byx,K_Bzx,K_Bxy,K_Byy,K_Bzy,K_Bxz,K_Byz,K_Bzz,I_Bxx,I_Bxy,I_Bxz,I_Byy,I_Byz,I_Bzz,m,phi0_1,phi0_2,phi0_3,G_g1,G_g2,G_g3)
%DYNAMICSDERIVATIVES_DUALSTATE
%    DF_DX_DUALSTATE = DYNAMICSDERIVATIVES_DUALSTATE(V_BX,V_BY,V_BZ,OMEGA_BX,OMEGA_BY,OMEGA_BZ,F_B_OX,F_B_OY,F_B_OZ,MU_B_OX,MU_B_OY,MU_B_OZ,F_B_CX,F_B_CY,F_B_CZ,MU_B_CX,MU_B_CY,MU_B_CZ,PHI1,PHI2,PHI3,K_BXX,K_BYX,K_BZX,K_BXY,K_BYY,K_BZY,K_BXZ,K_BYZ,K_BZZ,I_BXX,I_BXY,I_BXZ,I_BYY,I_BYZ,I_BZZ,M,PHI0_1,PHI0_2,PHI0_3,G_G1,G_G2,G_G3)

%    This function was generated by the Symbolic Math Toolbox version 5.8.
%    07-Jul-2015 09:55:32

t2 = 1.0./m;
t3 = cos(phi1);
t4 = cos(phi3);
t5 = cos(phi2);
t6 = sin(phi1);
t7 = sin(phi3);
t8 = sin(phi2);
t9 = t6.*t7;
t10 = t9-t3.*t4.*t5;
t11 = t4.*t6;
t12 = t3.*t5.*t7;
t13 = t11+t12;
t14 = t3.*t4;
t15 = t14-t5.*t6.*t7;
t16 = t3.*t7;
t17 = t4.*t5.*t6;
t18 = t16+t17;
t19 = I_Bxy.^2;
t20 = I_Bxz.^2;
t21 = I_Byz.^2;
t22 = I_Bxx.*t21;
t23 = I_Byy.*t20;
t24 = I_Bzz.*t19;
t29 = I_Bxx.*I_Byy.*I_Bzz;
t30 = I_Bxy.*I_Bxz.*I_Byz.*2.0;
t25 = t22+t23+t24-t29-t30;
t26 = 1.0./t25;
t27 = I_Byy.^2;
t28 = I_Bzz.^2;
t31 = t21-I_Byy.*I_Bzz;
t32 = t26.*t31;
t33 = I_Bxy.*I_Bzz;
t44 = I_Bxz.*I_Byz;
t34 = t33-t44;
t35 = t26.*t34;
t36 = I_Bxy.*I_Byz;
t63 = I_Bxz.*I_Byy;
t37 = t36-t63;
t38 = phi1-phi0_1;
t39 = phi2-phi0_2;
t40 = phi3-phi0_3;
t41 = I_Bxx.^2;
t42 = I_Bxy.*omega_Bz.*t28;
t43 = I_Bxx.*I_Bxz.*I_Byz.*omega_Bz;
t45 = t20-I_Bxx.*I_Bzz;
t46 = t26.*t45;
t47 = I_Bxx.*I_Byz;
t65 = I_Bxy.*I_Bxz;
t48 = t47-t65;
t49 = t26.*t48;
t50 = -K_Bxx.*K_Bxy-K_Byx.*K_Byy-K_Bzx.*K_Bzy;
t51 = I_Bxz.*omega_By.*t19.*2.0;
t52 = I_Byz.*omega_Bx.*t19.*2.0;
t53 = I_Bxy.*omega_Bz.*t20.*2.0;
t54 = I_Bxy.*omega_Bz.*t21.*2.0;
t55 = I_Bxx.*I_Bxy.*I_Bxz.*omega_Bx;
t56 = I_Bxx.*I_Bxz.*I_Byy.*omega_By;
t57 = I_Bxx.*I_Byy.*I_Byz.*omega_Bx;
t58 = I_Bxx.*I_Byz.*I_Bzz.*omega_Bx;
t59 = I_Bxy.*I_Bxz.*I_Bzz.*omega_Bx;
t60 = I_Bxy.*I_Byy.*I_Byz.*omega_By;
t61 = I_Bxy.*I_Byz.*I_Bzz.*omega_By;
t62 = I_Bxz.*I_Byy.*I_Bzz.*omega_By;
t64 = t26.*t37;
t66 = t19-I_Bxx.*I_Byy;
t67 = t26.*t66;
t68 = -K_Bxx.*K_Bxz-K_Byx.*K_Byz-K_Bzx.*K_Bzz;
t69 = -K_Bxy.*K_Bxz-K_Byy.*K_Byz-K_Bzy.*K_Bzz;
t70 = 1.0./t8;
t71 = t3.^2;
t72 = t6.^2;
t73 = t71+t72;
t74 = 1.0./t73;
t75 = 1.0./t8.^2;
t76 = omega_Bx.*t3;
t77 = omega_By.*t6;
t78 = t76+t77;
df_dx_dualState = reshape([0.0,-omega_Bz,omega_By,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,omega_Bz,0.0,-omega_Bx,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-omega_By,omega_Bx,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,v_Bz,-v_By,t26.*(t42+t43+t52+t54+t56+t60+t61+t62-I_Byz.*omega_Bx.*t20.*2.0-I_Bxz.*omega_By.*t21.*2.0-I_Bxz.*omega_By.*t27-I_Bxx.*I_Bxy.*I_Byz.*omega_By-I_Bxy.*I_Bxz.*I_Byy.*omega_Bx.*2.0-I_Bxx.*I_Bxy.*I_Bzz.*omega_Bz+I_Bxy.*I_Bxz.*I_Bzz.*omega_Bx.*2.0-I_Bxy.*I_Byy.*I_Bzz.*omega_Bz-I_Bxz.*I_Byy.*I_Byz.*omega_Bz-I_Bxz.*I_Byz.*I_Bzz.*omega_Bz),-t26.*(I_Bxz.*omega_Bx.*t19.*-2.0+I_Bxx.*omega_Bz.*t20-I_Bxz.*omega_Bx.*t20.*2.0+I_Bxx.*omega_Bz.*t21-I_Byz.*omega_By.*t20.*2.0-I_Bzz.*omega_Bz.*t19-I_Bzz.*omega_Bz.*t20+I_Bxx.*omega_Bz.*t28-I_Byz.*omega_By.*t41-I_Bzz.*omega_Bz.*t41+I_Bxx.*I_Bxy.*I_Bxz.*omega_By+I_Bxx.*I_Bxy.*I_Byz.*omega_Bx.*2.0+I_Bxx.*I_Bxz.*I_Bzz.*omega_Bx.*2.0+I_Bxx.*I_Byy.*I_Byz.*omega_By-I_Bxy.*I_Bxz.*I_Byy.*omega_By+I_Bxx.*I_Byz.*I_Bzz.*omega_By+I_Bxy.*I_Bxz.*I_Bzz.*omega_By),t26.*(I_Bxx.*omega_By.*t19-I_Bxy.*omega_Bx.*t19.*2.0-I_Bxy.*omega_Bx.*t20.*2.0+I_Bxx.*omega_By.*t21-I_Byy.*omega_By.*t19-I_Byy.*omega_By.*t20-I_Byz.*omega_Bz.*t19.*2.0+I_Bxx.*omega_By.*t27-I_Byy.*omega_By.*t41-I_Byz.*omega_Bz.*t41+I_Bxx.*I_Bxy.*I_Byy.*omega_Bx.*2.0+I_Bxx.*I_Bxy.*I_Bxz.*omega_Bz+I_Bxx.*I_Bxz.*I_Byz.*omega_Bx.*2.0+I_Bxx.*I_Byy.*I_Byz.*omega_Bz+I_Bxy.*I_Bxz.*I_Byy.*omega_Bz+I_Bxx.*I_Byz.*I_Bzz.*omega_Bz-I_Bxy.*I_Bxz.*I_Bzz.*omega_Bz),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t3.*t5.*t70.*t74,-t6.*t74,t3.*t70.*t74,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-v_Bz,0.0,v_Bx,t26.*(I_Bxz.*omega_Bx.*t21.*-2.0-I_Byz.*omega_By.*t19.*2.0+I_Byy.*omega_Bz.*t20+I_Byy.*omega_Bz.*t21-I_Byz.*omega_By.*t21.*2.0-I_Bzz.*omega_Bz.*t19-I_Bzz.*omega_Bz.*t21-I_Bxz.*omega_Bx.*t27+I_Byy.*omega_Bz.*t28-I_Bzz.*omega_Bz.*t27-I_Bxx.*I_Bxy.*I_Byz.*omega_Bx+I_Bxx.*I_Bxz.*I_Byy.*omega_Bx+I_Bxy.*I_Bxz.*I_Byy.*omega_By.*2.0+I_Bxy.*I_Byy.*I_Byz.*omega_Bx+I_Bxy.*I_Byz.*I_Bzz.*omega_Bx+I_Bxz.*I_Byy.*I_Bzz.*omega_Bx+I_Byy.*I_Byz.*I_Bzz.*omega_By.*2.0),-t26.*(t42-t43+t51+t53+t55+t57+t58+t59-I_Byz.*omega_Bx.*t20.*2.0-I_Bxz.*omega_By.*t21.*2.0-I_Byz.*omega_Bx.*t41-I_Bxx.*I_Bxy.*I_Byz.*omega_By.*2.0-I_Bxy.*I_Bxz.*I_Byy.*omega_Bx-I_Bxx.*I_Bxy.*I_Bzz.*omega_Bz-I_Bxy.*I_Byy.*I_Bzz.*omega_Bz+I_Bxy.*I_Byz.*I_Bzz.*omega_By.*2.0+I_Bxz.*I_Byy.*I_Byz.*omega_Bz-I_Bxz.*I_Byz.*I_Bzz.*omega_Bz),-t26.*(-I_Bxx.*omega_Bx.*t19-I_Bxx.*omega_Bx.*t21-I_Bxy.*omega_By.*t19.*2.0+I_Byy.*omega_Bx.*t19+I_Byy.*omega_Bx.*t20-I_Bxy.*omega_By.*t21.*2.0-I_Bxz.*omega_Bz.*t19.*2.0-I_Bxx.*omega_Bx.*t27-I_Bxz.*omega_Bz.*t27+I_Byy.*omega_Bx.*t41+I_Bxx.*I_Bxy.*I_Byy.*omega_By.*2.0+I_Bxx.*I_Bxy.*I_Byz.*omega_Bz+I_Bxx.*I_Bxz.*I_Byy.*omega_Bz+I_Bxy.*I_Byy.*I_Byz.*omega_Bz+I_Bxz.*I_Byy.*I_Byz.*omega_By.*2.0-I_Bxy.*I_Byz.*I_Bzz.*omega_Bz+I_Bxz.*I_Byy.*I_Bzz.*omega_Bz),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t5.*t6.*t70.*t74,t3.*t74,t6.*t70.*t74,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,v_By,-v_Bx,0.0,-t26.*(I_Bxy.*omega_Bx.*t21.*-2.0-I_Byy.*omega_By.*t20-I_Byy.*omega_By.*t21+I_Bzz.*omega_By.*t19-I_Byz.*omega_Bz.*t20.*2.0-I_Byz.*omega_Bz.*t21.*2.0+I_Bzz.*omega_By.*t21-I_Bxy.*omega_Bx.*t28-I_Byy.*omega_By.*t28+I_Bzz.*omega_By.*t27+I_Bxx.*I_Bxy.*I_Bzz.*omega_Bx-I_Bxx.*I_Bxz.*I_Byz.*omega_Bx+I_Bxy.*I_Byy.*I_Bzz.*omega_Bx+I_Bxz.*I_Byy.*I_Byz.*omega_Bx+I_Bxy.*I_Bxz.*I_Bzz.*omega_Bz.*2.0+I_Bxz.*I_Byz.*I_Bzz.*omega_Bx+I_Byy.*I_Byz.*I_Bzz.*omega_Bz.*2.0),t26.*(-I_Bxx.*omega_Bx.*t20-I_Bxx.*omega_Bx.*t21-I_Bxy.*omega_By.*t20.*2.0+I_Bzz.*omega_Bx.*t19-I_Bxz.*omega_Bz.*t20.*2.0+I_Bzz.*omega_Bx.*t20-I_Bxz.*omega_Bz.*t21.*2.0-I_Bxx.*omega_Bx.*t28-I_Bxy.*omega_By.*t28+I_Bzz.*omega_Bx.*t41+I_Bxx.*I_Bxy.*I_Bzz.*omega_By+I_Bxx.*I_Bxz.*I_Byz.*omega_By+I_Bxx.*I_Bxz.*I_Bzz.*omega_Bz.*2.0+I_Bxy.*I_Byy.*I_Bzz.*omega_By-I_Bxz.*I_Byy.*I_Byz.*omega_By+I_Bxy.*I_Byz.*I_Bzz.*omega_Bz.*2.0+I_Bxz.*I_Byz.*I_Bzz.*omega_By),t26.*(t51-t52+t53-t54+t55-t56+t57+t58-t59-t60+t61-t62+I_Bxz.*omega_By.*t27-I_Byz.*omega_Bx.*t41-I_Bxx.*I_Bxy.*I_Byz.*omega_By+I_Bxy.*I_Bxz.*I_Byy.*omega_Bx-I_Bxx.*I_Bxz.*I_Byz.*omega_Bz.*2.0+I_Bxz.*I_Byy.*I_Byz.*omega_Bz.*2.0),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t70.*t74.*(t8.*t71+t8.*t72),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t32,t35,-t64,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t35,t46,t49,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t26.*t37,t49,t67,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t32,-t35,t64,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t35,-t46,-t49,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t64,-t49,-t67,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-G_g2.*t15-G_g1.*t18,-G_g1.*t10-G_g2.*t13+G_g3.*t3.*t8,0.0,-K_Bxx.^2-K_Byx.^2-K_Bzx.^2,t50,t68,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t70.*t74.*(omega_By.*t3.*t5-omega_Bx.*t5.*t6),-t74.*t78,t70.*t74.*(omega_By.*t3-omega_Bx.*t6),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,G_g3.*t4.*t5-G_g1.*t3.*t4.*t8+G_g2.*t3.*t7.*t8,G_g3.*t5.*t6-G_g1.*t4.*t6.*t8+G_g2.*t6.*t7.*t8,-G_g3.*t8-G_g1.*t4.*t5+G_g2.*t5.*t7,t50,-K_Bxy.^2-K_Byy.^2-K_Bzy.^2,t69,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,t70.*t74.*(omega_Bx.*t3.*t8+omega_By.*t6.*t8+omega_Bz.*t5.*t71+omega_Bz.*t5.*t72)+t5.*t74.*t75.*(omega_Bx.*t3.*t5+omega_By.*t5.*t6-omega_Bz.*t8.*t71-omega_Bz.*t8.*t72),0.0,-t5.*t74.*t75.*t78,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,G_g2.*t10-G_g1.*t13-G_g3.*t7.*t8,G_g1.*t15-G_g2.*t18,G_g2.*t4.*t8+G_g1.*t7.*t8,t68,t69,-K_Bxz.^2-K_Byz.^2-K_Bzz.^2,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,K_Bxx.*t38.*-2.0-K_Bxy.*t39-K_Bxz.*t40,-K_Bxy.*t38,-K_Bxz.*t38,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,K_Byx.*t38.*-2.0-K_Byy.*t39-K_Byz.*t40,-K_Byy.*t38,-K_Byz.*t38,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,K_Bzx.*t38.*-2.0-K_Bzy.*t39-K_Bzz.*t40,-K_Bzy.*t38,-K_Bzz.*t38,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-K_Bxx.*t39,-K_Bxx.*t38-K_Bxy.*t39.*2.0-K_Bxz.*t40,-K_Bxz.*t39,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-K_Byx.*t39,-K_Byx.*t38-K_Byy.*t39.*2.0-K_Byz.*t40,-K_Byz.*t39,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-K_Bzx.*t39,-K_Bzx.*t38-K_Bzy.*t39.*2.0-K_Bzz.*t40,-K_Bzz.*t39,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,-K_Bxx.*t40,-K_Bxy.*t40,-K_Bxx.*t38-K_Bxy.*t39-K_Bxz.*t40.*2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,-K_Byx.*t40,-K_Byy.*t40,-K_Byx.*t38-K_Byy.*t39-K_Byz.*t40.*2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,-K_Bzx.*t40,-K_Bzy.*t40,-K_Bzx.*t38-K_Bzy.*t39-K_Bzz.*t40.*2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,1.0],[30, 30]);
